{"version":3,"sources":["webpack:///webpack/bootstrap e83b8c7241f3ea7c0733","webpack:///./websocket.js","webpack:///./wsBin.js","webpack:///./appStatus.js","webpack:///./binStates.js","webpack:///./index_new.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;AChEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,gD;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,0BAA0B,+BAA+B,EAAE;AAC3D,0BAA0B,8BAA8B,EAAE;AAC1D;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C,IAAI,YAAY,MAAM,aAAa,OAAO;;AAEpF;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,I;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,mCAAmC;AACnC,oCAAoC;AACpC,sCAAsC;AACtC,oCAAoC;AACpC;AACA;;;;;;;;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,+CAA+C,MAAM,aAAa,OAAO;AACzE,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,+CAA+C,MAAM,aAAa,OAAO;AACzE;AACA;AACA;;AAEA,8D;;;;;;;;;;AClEA;;AAEoB;AACpB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,G;AACA;AACA,C;;;;;;;;;;AClEA;;AAEoB;AACpB;;AAEA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,0GAAwD;AACxD;;AAEA;AACA,4CAA4C,IAAI;AAChD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oCAAoC,SAAS,qBAAqB,eAAe;;AAEjF,mBAAmB,sBAAsB;AACzC;AACA,6CAA6C,SAAS,cAAc,EAAE,MAAM,iDAAiD;AAC7H;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yDAAyD,SAAS;AAClE,6DAA6D,SAAS;AACtE,mDAAmD,SAAS;AAC5D;AACA;;AAEA;AACA;AACA;AACA;AACA,qEAAqE,SAAS;AAC9E;AACA;AACA,+DAA+D,SAAS;AACxE;AACA;;AAEA,8B;AACA;;AAEA;AACA;AACA,qCAAqC,SAAS;AAC9C;;AAEA;AACA,2CAA2C,SAAS;AACpD;AACA;;AAEA;AACA;AACA,0DAA0D,SAAS;;AAEnE;AACA;AACA,2C;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA,2DAA2D,SAAS;;AAEpE;AACA;AACA,0C;AACA,OAAO;AACP;AACA;AACA;AACA,M;AACA;;AAEA;AACA,kDAAkD,SAAS,yBAAyB,SAAS;;AAE7F;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,gDAAgD,gGAA8C;AAC9F,+CAA+C,+FAA6C;;AAE5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA,G;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA,G;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA,oDAAoD,2FAAyC;AAC7F,mDAAmD,0FAAwC,E;;;;;;;;;;;ACtP3F;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACyD;;AAEzD;AACA;AACA;AACA;AACA,4BAA4B,oCAAoC,EAAE;AAClE;AACA;AACA;AACA,4BAA4B,wCAAwC,EAAE;;AAEtE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,8D","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e83b8c7241f3ea7c0733","'use strict';\n//Websockets\nvar websocket;\nvar wsEnablers = [];\nvar wsBinProcessors = {};\n\nimport wsBin from './wsBin';\n\nfunction onOpen(evt) {\n//\tconsole.log.bind(console)(\"CONNECTED\");\n\t\n\tObject.keys(wsEnablers).forEach( function(Id) { \n\t\twsEnablers[Id](true);\n\t});\n\t\n//\tbinStates = new BinStatesClass();\n//\tbinStates.enableButtons(true);\n//\tbinStates.enableStates(true);\n//\tsetTimeout(function() { binStates.enableButtons(true); }, 500);\n//\tsetTimeout(function() { binStates.enableStates(true); }, 850);\n}\n\nfunction onMessage(evt) {\n//\tconsole.log.bind(console)(\"Message recv: \" + evt.data);\n\tif(evt.data instanceof ArrayBuffer) {\n    \tvar bin = new DataView(evt.data);\n    \t\n    \tvar cmd = bin.getUint8(wsBin.Const.wsCmd);\n    \tvar sysId = bin.getUint8(wsBin.Const.wsSysId);\n    \tvar subCmd = bin.getUint8(wsBin.Const.wsSubCmd);\n//    \tconsole.log.bind(console)(`cmd = ${cmd}, sysId = ${sysId}, subCmd = ${subCmd}`);\n    \t\n//    \tif ( cmd == wsBin.Const.getResponse && sysId == 1 ) {\n//    \t\tappStatus.wsBinProcess(bin);\n//    \t}\n\n    \twsBinProcessors[sysId](bin);\n    \t\n//    \tif ( cmd == wsBinConst.getResponse && ( sysId == 2 || sysId == 3) ) {\n//    \t\tbinStates.wsBinProcess(bin);\n//    \t}\n    \t\t\n  \t} \n}\n\nfunction onClose(evt) {\n//\tconsole.log.bind(console)(\"DISCONNECTED\");\n}\n\nfunction onError(evt) {\n//\tconsole.log.bind(console)(\"ERROR: \" + evt.data);\n}\n\nfunction initWS() {\n\tvar wsUri = \"ws://\" + \"10.2.113.118\" + \"/\";\n\twebsocket = new WebSocket(wsUri);\n\twebsocket.onopen = function(evt) { onOpen(evt) };\n\twebsocket.onclose = function(evt) { onClose(evt) };\n\twebsocket.onmessage = function(evt) { onMessage(evt) };\n\twebsocket.onerror = function(evt) { onError(evt) };\n\twebsocket.binaryType = 'arraybuffer';\n}\n\nexport { initWS, websocket, wsEnablers, wsBinProcessors };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./websocket.js\n// module id = 0\n// module chunks = 0","'use strict';\n//wsBinProtocol constants\nvar wsBin = {\n\tConst :{\n//Frame header offsets\n\twsCmd\t\t\t: 0, //Command type\n\twsSysId\t\t\t: 1, //target sysId\n\twsSubCmd\t\t: 2, //sub-command type\n\twsPayLoadStart\t: 3,\n\t//alternatively if we need argument to Get value\n\twsPayLoadStartGetSetArg\t: 4,\n\twsGetSetArg\t\t: 3,\n\n\treservedCmd\t\t: 0,\n\tgetCmd\t\t\t: 1,\n\tsetCmd\t\t\t: 2,\n\tgetResponse\t\t: 3,\n\tsetAck\t\t\t: 4,\n\tsetNack\t\t\t: 5,\n\n// sub-command\n\tscAppSetTime\t: 1,\n\tscAppGetStatus\t: 2,\n\tscAppConfigGet\t: 3,\n\tscAppConfigSet\t: 4,\n// sub-commands for BinStateHttpClass sysId=2 and BinStatesHttpClass sysId=3\n\tscBinStateGetName\t: 1,\n\tscBinStateGetState\t: 2,\n\tscBinStateSetState\t: 3,\n// sub-commands for BinStatesHttpClass sysId=3\n\tscBinStatesGetAll\t\t: 10,\n\tscBinStatesGetAllStates\t: 20,\n\tscBinStatesGetAllButtons\t: 30,\n// BinHttp State/Buttons base numbers\n\tuidHttpState\t\t: 0,\n\tuidHttpButton\t\t: 127\n\t},\n\t\n\tCmd: {\n\tGet\t: function (socket, sysId, subCmd) {\n\t\tvar ab = new ArrayBuffer(3);\n\t\tvar bin = new DataView(ab);\n\t\t\n\t\tbin.setUint8(wsBin.Const.wsCmd, wsBin.Const.getCmd);\n\t\tbin.setUint8(wsBin.Const.wsSysId, sysId);\n\t\tbin.setUint8(wsBin.Const.wsSubCmd, subCmd);\n\t\n\t\tsocket.send(bin.buffer);\n//\t\tconsole.log.bind(console)(`wsGet sysId = ${sysId}, subCmd = ${subCmd}`);\n\t},\n\tSetArg: function (socket, sysId, subCmd, setArg, setValue) {\n\t\tvar ab = new ArrayBuffer(5);\n\t\tvar bin = new DataView(ab);\n\t\t\n\t\tbin.setUint8(wsBin.Const.wsCmd, wsBin.Const.setCmd);\n\t\tbin.setUint8(wsBin.Const.wsSysId, sysId);\n\t\tbin.setUint8(wsBin.Const.wsSubCmd, subCmd);\n\t\tbin.setUint8(wsBin.Const.wsGetSetArg, setArg);\n\t\tbin.setUint8(wsBin.Const.wsPayLoadStartGetSetArg, setValue);\n\t\n\t\tsocket.send(bin.buffer);\n//\t\tconsole.log.bind(console)(`wsGet sysId = ${sysId}, subCmd = ${subCmd}`);\n\t}\n\t}\n};\n\nexport default wsBin;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./wsBin.js\n// module id = 1\n// module chunks = 0","'use strict';\n\nimport { websocket } from './websocket';\nimport wsBin from './wsBin';\n\n\nexport default function AppStatusClass() {\n\tthis._counter = 0;\n\tthis._timestamp = 0;\n\tthis._dateStr = \"\";\n\tthis._timer = 0;\n\tthis._enable = false;\n}\n\nAppStatusClass.sysId = 1;\n\nAppStatusClass.prototype.wsGetAppStatus = function() {\n\twsBin.Cmd.Get(websocket, 1, wsBin.Const.scAppGetStatus);\n}\n\nAppStatusClass.prototype.wsBinProcess = function (bin) {\n\tvar subCmd = bin.getUint8(wsBin.Const.wsSubCmd);\n\tif (subCmd == wsBin.Const.scAppGetStatus) {\n\t\tthis._counter = bin.getUint32(wsBin.Const.wsPayLoadStart, true);\n    \tthis._timestamp = bin.getUint32(wsBin.Const.wsPayLoadStart + 4, true);\n\t\tvar d = new Date();\n\t\td.setTime(this._timestamp * 1000);\n\t\tthis._dateStr = d.toLocaleString().replace(/,\\ /,'<br>');\n\t\tthis.renderStatus();\n\t}\n}\n\nAppStatusClass.prototype.render = function () {\n\tvar t = document.querySelector('#AppStatusClass');\n\tvar clone = document.importNode(t.content, true);\n\tvar container = document.getElementById(\"Container-AppStatusClass\");\n\tcontainer.appendChild(clone);\n}\n\nAppStatusClass.prototype.renderStatus = function () {\n\tdocument.querySelector('#AppStatusClassCounter').textContent = this._counter;\n\tdocument.querySelector('#AppStatusClassDateTime').innerHTML = this._dateStr;\n}\n\nAppStatusClass.prototype.remove = function () {\n\t\tvar removeElement = document.querySelector('#Container-AppStatusClass');\n\t\tthis.removeChilds(removeElement);\n}\n\nAppStatusClass.prototype.removeChilds = function (node) {\n    var last;\n    while (last = node.lastChild) node.removeChild(last);\n}\n\nAppStatusClass.prototype.enable = function( enable ) {\n\tif ( enable != this._enable ) {\n\t\tthis._enable = enable;\n\t\tif (! this._enable) {\n\t\t\tclearInterval(this._timer);\n\t\t\tthis.remove();\n\t\t} else {\n\t\t\tthis.render();\n\t\t\tthis.wsGetAppStatus()\n\t\t\tthis._timer = setInterval(this.wsGetAppStatus, 5000);\n\t\t}\t\n\t}\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./appStatus.js\n// module id = 2\n// module chunks = 0","'use strict';\n\nimport { websocket } from './websocket';\nimport wsBin from './wsBin';\n\n//BinStateHttpClass\n\nfunction BinStateClass (uid) {\n\tthis.uid = uid;\n\tthis._state = 0; //false\n\tthis._name = \"\";\n\tthis.render();\n}\n\nBinStateClass.sysId = 2;\n\nBinStateClass.prototype.wsGet = function (cmd) {\n\tvar ab = new ArrayBuffer(3);\n\tvar bin = new DataView(ab);\n\t\n\tbin.setUint8(wsBin.Const.wsCmd, wsBin.Const.getCmd);\n\tbin.setUint8(wsBin.Const.wsSysId, BinStateClass.sysId); //BinStateHttpClass.sysId = 2\n\tbin.setUint8(wsBin.Const.wsSubCmd, cmd);\n\n\twebsocket.send(bin.buffer);\n//\tconsole.log.bind(console)(`wsGet cmd = ${cmd}`);\n}\n\nBinStateClass.prototype.wsGetName = function () {\n\tthis.wsGet(1);\n}\n\nBinStateClass.prototype.wsGetState = function () {\n\tthis.wsGet(2);\n}\n\nBinStateClass.prototype.wsSetState = function (state) {\n\twsBin.Cmd.SetArg(websocket, BinStateClass.sysId, wsBin.Const.scBinStateSetState, this.uid, state);\n}\n\nBinStateClass.prototype.wsGotName = function (bin) {\n\tvar strBuffer = new Uint8Array(bin.byteLength -(wsBin.Const.wsPayLoadStart + 1));\n\tconsole.log.bind(console)(`uid = ${this.uid}, bin.byteLength = ${bin.byteLength}`);\n\n    for (var i = 0; i < strBuffer.length; i++) {\n        strBuffer[i] = bin.getUint8(wsBin.Const.wsPayLoadStart + 1 + i);\n//        console.log.bind(console)(`uid = ${this.uid}, strBuffer[${i}] = ${bin.getUint8(wsBin.Const.wsPayLoadStart + 1 + i)}`);\n    }\n\n    this._name = new TextDecoder().decode(strBuffer)\n    this.renderName();\n}\n\nBinStateClass.prototype.wsGotState = function (bin) {\n\tthis._state = bin.getUint8(wsBin.Const.wsPayLoadStart + 1, true);\n\tthis.renderState();\n}\n\nBinStateClass.prototype.render = function () {\n\tif ( this.isState() ) {\n\t\tvar t = document.querySelector('#BinStateHttpClass');\n\t\tvar clone = document.importNode(t.content, true);\n//\t\tclone.querySelector('#binState').textContent = this._name;\n\t\tclone.querySelector('#binStateDiv').id = `binStateDiv${this.uid}`;\n\t\tclone.querySelector('#binStatePanel').id = `binStatePanel${this.uid}`;\n\t\tclone.querySelector('#binState').id = `binState${this.uid}`\n\t\tvar container = document.getElementById(\"Container-BinStateHttpClassStates\");\n\t}\n\t\t\t\n\tif ( this.isButton() ) {\n\t\tvar t = document.querySelector('#BinStateHttpClassButton');\n\t\tvar clone = document.importNode(t.content, true);\n//\t\tclone.querySelector('#binStateButton').textContent = this._name;\n\t\tclone.querySelector('#binStateButtonDiv').id = `binStateButtonDiv${this.uid}`\n\t\tclone.querySelector('#binStateButton').addEventListener('mousedown', this);\n\t\tclone.querySelector('#binStateButton').addEventListener('mouseup', this);\n\t\tclone.querySelector('#binStateButton').id = `binStateButton${this.uid}`\n\t\tvar container = document.getElementById(\"Container-BinStateHttpClassButtons\");\n\t}\n\t\n\tcontainer.appendChild(clone);\t\n}\n\nBinStateClass.prototype.renderName = function () {\n\tif ( this.isState() ) {\n\t\tdocument.querySelector(`#binState${this.uid}`).textContent = this._name;\n\t}\n\t\n\tif ( this.isButton() ) {\n\t\tdocument.querySelector(`#binStateButton${this.uid}`).textContent = this._name;\n\t}\n}\n\nBinStateClass.prototype.renderState = function () {\n\tif ( this.isState()) {\n\t    \tvar panel = document.querySelector(`#binStatePanel${this.uid}`);\n\t    \t\n\t    \tif (this._state) {\n\t    \t\tpanel.classList.remove(\"panel-primary\");\n\t    \t\tpanel.classList.add(\"panel-danger\");\t\n\t    \t} else {\n\t    \t\tpanel.classList.remove(\"panel-danger\");\n\t    \t\tpanel.classList.add(\"panel-primary\");\n\t    \t}\n    \t}\n    \t\n    \tif ( this.isButton()) {\n    \t\tvar panel = document.querySelector(`#binStateButton${this.uid}`);\n\t    \t\n\t    \tif (this._state) {\n\t    \t\tpanel.classList.remove(\"btn-primary\");\n\t    \t\tpanel.classList.add(\"btn-warning\");\t\n\t    \t} else {\n\t    \t\tpanel.classList.remove(\"btn-warning\");\n\t    \t\tpanel.classList.add(\"btn-primary\");\n\t    \t}\n    \t}\t\n}\n\nBinStateClass.prototype.remove = function () {\n\t\tvar selector = this.isState() ?  `#binStateDiv${this.uid}` : `#binStateButtonDiv${this.uid}`\n\n\t\tvar removeElement = document.querySelector(selector);\n\t\tthis.removeChilds(removeElement);\n\t\tremoveElement.remove();\n}\n\nBinStateClass.prototype.removeChilds = function (node) {\n    var last;\n    while (last = node.lastChild) node.removeChild(last);\n}\n\nBinStateClass.prototype.wsBinProcess = function (bin) {\n\tvar subCmd = bin.getUint8(wsBin.Const.wsSubCmd);\n\t\n\tif ( subCmd == wsBin.Const.scBinStateGetName) {\n\t\tthis.wsGotName(bin);\n\t}\n\t\n\tif ( subCmd == wsBin.Const.scBinStateGetState) {\n\t\tthis.wsGotState(bin);\n\t}\n\t\n}\n\nBinStateClass.prototype.isButton = function () { return this.uid >= wsBin.Const.uidHttpButton; }\nBinStateClass.prototype.isState = function () { return this.uid < wsBin.Const.uidHttpButton; }\n\nBinStateClass.prototype.handleEvent = function(event) {\n\tswitch(event.type) {\n\t\tcase 'mousedown':\n\t        this.wsSetState(1);\n\t        break;\n        case 'mouseup':\n            this.wsSetState(0);\n            break;\n\t}\n}\n\n//BinStatesHttpClass\n// @param states - render/process states\n// @param  buttons - render/process buttons\n\nexport default function BinStatesClass () {\n\tthis._binStatesHttp = {};\n\tthis._statesEnable = false;\n\tthis._buttonsEnable = false;\n\tthis._enable = false;\n}\n\nBinStatesClass.sysId = 2;\n\nBinStatesClass.prototype.enableStates = function( statesEnable ) {\n\tif ( statesEnable != this._statesEnable ) {\n\t\tthis._statesEnable = statesEnable;\n\t\tif (! this._statesEnable) {\n\t\t\tvar self = this\n\t\t\tObject.keys(this._binStatesHttp).forEach(function(uid) {\n\t\t\t\tif ( self.isState(uid) ) {\n\t\t\t\t\tself._binStatesHttp[uid].remove();\n\t\t\t\t\tdelete self._binStatesHttp[uid];\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.wsGetAllStates();\n\t\t}\t\n\t}\n}\n\nBinStatesClass.prototype.enableButtons = function( buttonsEnable ) {\n\tif ( buttonsEnable != this._buttonsEnable ) {\n\t\tthis._buttonsEnable = buttonsEnable;\n\t\tif (! this._buttonsEnable) {\n\t\t\tvar self = this\n\t\t\tObject.keys(this._binStatesHttp).forEach(function(uid) {\n\t\t\t\tif ( self.isButton(uid) ) {\n\t\t\t\t\tself._binStatesHttp[uid].remove();\n\t\t\t\t\tdelete self._binStatesHttp[uid];\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.wsGetAllButtons();\n\t\t}\t\n\t}\n}\n\nBinStatesClass.prototype.enable = function( Enable ) {\n\tif ( Enable != this._enable ) {\n\t\tthis._enable = Enable;\n\t\tthis.enableStates(this._enable);\n\t\tthis.enableButtons(this._enable);\n\t}\n}\nBinStatesClass.prototype.wsGetAll = function() {\n\twsBin.Cmd.Get(websocket, BinStatesClass.sysId, wsBin.Const.scBinStatesGetAll);\n}\n\nBinStatesClass.prototype.wsGetAllStates = function() {\n\twsBin.Cmd.Get(websocket, BinStatesClass.sysId, wsBin.Const.scBinStatesGetAllStates);\n}\n\nBinStatesClass.prototype.wsGetAllButtons = function() {\n\twsBin.Cmd.Get(websocket, BinStatesClass.sysId, wsBin.Const.scBinStatesGetAllButtons);\n}\n\nBinStatesClass.prototype.wsBinProcess = function (bin) {\n\tvar subCmd = bin.getUint8(wsBin.Const.wsSubCmd);\n\tvar uid = bin.getUint8(wsBin.Const.wsPayLoadStart);\n\t\n\tif ( (this.isState(uid) && this._statesEnable) || (this.isButton(uid) && this._buttonsEnable ) ) {\n\t\tif (subCmd == wsBin.Const.scBinStateGetName) {\n\t\t\tif ( !this._binStatesHttp.hasOwnProperty(uid) ) {\n\t\t\t\tthis._binStatesHttp[uid] = new BinStateClass(uid);\n\t\t\t}\n\t\t\tthis._binStatesHttp[uid].wsGotName(bin);\n\t\t}\n\t\t\n\t\tif (subCmd == wsBin.Const.scBinStateGetState) {\n\t\t\tthis._binStatesHttp[uid].wsGotState(bin);\n\t\t}\n\t}\n\t\n\t\n}\n\nBinStatesClass.prototype.isButton = function (uid) { return uid >= wsBin.Const.uidHttpButton; }\nBinStatesClass.prototype.isState = function (uid) { return uid < wsBin.Const.uidHttpButton; }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./binStates.js\n// module id = 3\n// module chunks = 0","'use strict';\n\n//var appStatus\n//var binStates;\n//var tempsensors;\n//var tempsensorsHome;\n\n//import websocket from './websocket';\nimport AppStatusClass from './appStatus.js';\nimport BinStatesClass from './binStates.js'\nimport { initWS, websocket, wsEnablers, wsBinProcessors } from './websocket';\n\n//Here we put some initial code which starts after DOM loaded\nfunction onDocumentRedy() {\n//\ttempsensors = new TempsensorsClass('/temperature.json', 0);\n//\ttempsensors.enable(true);\n//\tsetInterval(function () { tempsensors.wsGetAllTemperatures(); }, 5000);\n//\t\n//\ttempsensorsHome = new TempsensorsClass('/temperatureHome.json', 1);\n//\ttempsensorsHome.enable(true);\n//\tsetInterval(function () { tempsensorsHome.wsGetAllTemperatures(); }, 5000);\n\n\tvar appStatus = new AppStatusClass();\n\tvar binStates = new BinStatesClass();\n\t\n\twsEnablers.push(appStatus.enable.bind(appStatus));\n\twsEnablers.push(binStates.enableStates.bind(binStates));\n//\twsEnablers.push(binStates.enableButtons.bind(binStates));\n\t\n\twsBinProcessors[AppStatusClass.sysId] = appStatus.wsBinProcess.bind(appStatus);\n\twsBinProcessors[BinStatesClass.sysId] = binStates.wsBinProcess.bind(binStates);\n\t\n\tinitWS();\n}\n\ndocument.addEventListener('DOMContentLoaded', onDocumentRedy);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./index_new.js\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}