{"version":3,"sources":["webpack:///webpack/bootstrap a4aaea60965b48a25b8c","webpack:///./lib/application/websocket.js","webpack:///./lib/application/wsBin.js","webpack:///./lib/application/appStatus.js","webpack:///./lib/binio/binStates.js","webpack:///./lib/tempsensor/tempsensors.js","webpack:///./files/index_new.js"],"names":[],"mappings":"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","file":"index.a4aaea6096.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a4aaea60965b48a25b8c","'use strict';\n//Websockets\nvar websocket;\nvar wsEnablers = [];\nvar wsBinProcessors = {};\n\nimport wsBin from 'wsBin';\n\nfunction onOpen(evt) {\n//\tconsole.log.bind(console)(\"CONNECTED\");\n\t\n\tObject.keys(wsEnablers).forEach( function(Id) { \n\t\twsEnablers[Id](true);\n\t});\n\t\n//\tbinStates = new BinStatesClass();\n//\tbinStates.enableButtons(true);\n//\tbinStates.enableStates(true);\n//\tsetTimeout(function() { binStates.enableButtons(true); }, 500);\n//\tsetTimeout(function() { binStates.enableStates(true); }, 850);\n}\n\nfunction onMessage(evt) {\n//\tconsole.log.bind(console)(\"Message recv: \" + evt.data);\n\tif(evt.data instanceof ArrayBuffer) {\n    \tvar bin = new DataView(evt.data);\n    \t\n    \tvar cmd = bin.getUint8(wsBin.Const.wsCmd);\n    \tvar sysId = bin.getUint8(wsBin.Const.wsSysId);\n    \tvar subCmd = bin.getUint8(wsBin.Const.wsSubCmd);\n//    \tconsole.log.bind(console)(`cmd = ${cmd}, sysId = ${sysId}, subCmd = ${subCmd}`);\n    \t\n//    \tif ( cmd == wsBin.Const.getResponse && sysId == 1 ) {\n//    \t\tappStatus.wsBinProcess(bin);\n//    \t}\n    \tif ( wsBinProcessors.hasOwnProperty(sysId) ) {\n    \t\twsBinProcessors[sysId](bin);\n    \t}\n    \t\n//    \tif ( cmd == wsBinConst.getResponse && ( sysId == 2 || sysId == 3) ) {\n//    \t\tbinStates.wsBinProcess(bin);\n//    \t}\n    \t\t\n  \t} \n}\n\nfunction onClose(evt) {\n//\tconsole.log.bind(console)(\"DISCONNECTED\");\n}\n\nfunction onError(evt) {\n//\tconsole.log.bind(console)(\"ERROR: \" + evt.data);\n}\n\nfunction initWS() {\n\tvar wsUri = \"ws://\" + location.host + \"/\";\n\twebsocket = new WebSocket(wsUri);\n\twebsocket.onopen = function(evt) { onOpen(evt) };\n\twebsocket.onclose = function(evt) { onClose(evt) };\n\twebsocket.onmessage = function(evt) { onMessage(evt) };\n\twebsocket.onerror = function(evt) { onError(evt) };\n\twebsocket.binaryType = 'arraybuffer';\n}\n\nexport { initWS, websocket, wsEnablers, wsBinProcessors };\n\n\n// WEBPACK FOOTER //\n// ./lib/application/websocket.js","'use strict';\n//wsBinProtocol constants\nvar wsBin = {\n\tConst :{\n//Frame header offsets\n\twsCmd\t\t\t: 0, //Command type\n\twsSysId\t\t\t: 1, //target sysId\n\twsSubCmd\t\t: 2, //sub-command type\n\twsPayLoadStart\t: 3,\n\t//alternatively if we need argument to Get value\n\twsPayLoadStartGetSetArg\t: 4,\n\twsGetSetArg\t\t: 3,\n\n\treservedCmd\t\t: 0,\n\tgetCmd\t\t\t: 1,\n\tsetCmd\t\t\t: 2,\n\tgetResponse\t\t: 3,\n\tsetAck\t\t\t: 4,\n\tsetNack\t\t\t: 5,\n\n// sub-command\n\tscAppSetTime\t: 1,\n\tscAppGetStatus\t: 2,\n\tscAppConfigGet\t: 3,\n\tscAppConfigSet\t: 4,\n// sub-commands for BinStateHttpClass sysId=2 and BinStatesHttpClass sysId=3\n\tscBinStateGetName\t: 1,\n\tscBinStateGetState\t: 2,\n\tscBinStateSetState\t: 3,\n// sub-commands for BinStatesHttpClass sysId=3\n\tscBinStatesGetAll\t\t: 10,\n\tscBinStatesGetAllStates\t: 20,\n\tscBinStatesGetAllButtons\t: 30,\n// BinHttp State/Buttons base numbers\n\tuidHttpState\t\t: 0,\n\tuidHttpButton\t\t: 127\n\t},\n\t\n\tCmd: {\n\tGet\t: function (socket, sysId, subCmd) {\n\t\tvar ab = new ArrayBuffer(3);\n\t\tvar bin = new DataView(ab);\n\t\t\n\t\tbin.setUint8(wsBin.Const.wsCmd, wsBin.Const.getCmd);\n\t\tbin.setUint8(wsBin.Const.wsSysId, sysId);\n\t\tbin.setUint8(wsBin.Const.wsSubCmd, subCmd);\n\t\n\t\tsocket.send(bin.buffer);\n//\t\tconsole.log.bind(console)(`wsGet sysId = ${sysId}, subCmd = ${subCmd}`);\n\t},\n\tSetArg: function (socket, sysId, subCmd, setArg, setValue) {\n\t\tvar ab = new ArrayBuffer(5);\n\t\tvar bin = new DataView(ab);\n\t\t\n\t\tbin.setUint8(wsBin.Const.wsCmd, wsBin.Const.setCmd);\n\t\tbin.setUint8(wsBin.Const.wsSysId, sysId);\n\t\tbin.setUint8(wsBin.Const.wsSubCmd, subCmd);\n\t\tbin.setUint8(wsBin.Const.wsGetSetArg, setArg);\n\t\tbin.setUint8(wsBin.Const.wsPayLoadStartGetSetArg, setValue);\n\t\n\t\tsocket.send(bin.buffer);\n//\t\tconsole.log.bind(console)(`wsGet sysId = ${sysId}, subCmd = ${subCmd}`);\n\t}\n\t}\n};\n\nexport default wsBin;\n\n\n// WEBPACK FOOTER //\n// ./lib/application/wsBin.js","'use strict';\n\nimport { websocket } from 'websocket';\nimport wsBin from 'wsBin';\n\n\nexport default function AppStatusClass() {\n\tthis._counter = 0;\n\tthis._timestamp = 0;\n\tthis._dateStr = \"\";\n\tthis._timer = 0;\n\tthis._enable = false;\n}\n\nAppStatusClass.sysId = 1;\n\nAppStatusClass.prototype.wsGetAppStatus = function() {\n\twsBin.Cmd.Get(websocket, 1, wsBin.Const.scAppGetStatus);\n}\n\nAppStatusClass.prototype.wsBinProcess = function (bin) {\n\tvar subCmd = bin.getUint8(wsBin.Const.wsSubCmd);\n\tif (subCmd == wsBin.Const.scAppGetStatus) {\n\t\tthis._counter = bin.getUint32(wsBin.Const.wsPayLoadStart, true);\n    \tthis._timestamp = bin.getUint32(wsBin.Const.wsPayLoadStart + 4, true);\n\t\tvar d = new Date();\n\t\td.setTime(this._timestamp * 1000);\n\t\tthis._dateStr = d.toLocaleString().replace(/,\\ /,'<br>');\n\t\tthis.renderStatus();\n\t}\n}\n\nAppStatusClass.prototype.render = function () {\n\tvar t = document.querySelector('#AppStatusClass');\n\tvar clone = document.importNode(t.content, true);\n\tvar container = document.getElementById(\"Container-AppStatusClass\");\n\tcontainer.appendChild(clone);\n}\n\nAppStatusClass.prototype.renderStatus = function () {\n\tdocument.querySelector('#AppStatusClassCounter').textContent = this._counter;\n\tdocument.querySelector('#AppStatusClassDateTime').innerHTML = this._dateStr;\n}\n\nAppStatusClass.prototype.remove = function () {\n\t\tvar removeElement = document.querySelector('#Container-AppStatusClass');\n\t\tthis.removeChilds(removeElement);\n}\n\nAppStatusClass.prototype.removeChilds = function (node) {\n    var last;\n    while (last = node.lastChild) node.removeChild(last);\n}\n\nAppStatusClass.prototype.enable = function( enable ) {\n\tif ( enable != this._enable ) {\n\t\tthis._enable = enable;\n\t\tif (! this._enable) {\n\t\t\tclearInterval(this._timer);\n\t\t\tthis.remove();\n\t\t} else {\n\t\t\tthis.render();\n\t\t\tthis.wsGetAppStatus()\n\t\t\tthis._timer = setInterval(this.wsGetAppStatus, 5000);\n\t\t}\t\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./lib/application/appStatus.js","'use strict';\n\nimport { websocket } from 'websocket';\nimport wsBin from 'wsBin';\n\n//BinStateHttpClass\n\nfunction BinStateClass (uid) {\n\tthis.uid = uid;\n\tthis._state = 0; //false\n\tthis._name = \"\";\n\tthis.render();\n}\n\nBinStateClass.sysId = 2;\n\nBinStateClass.prototype.wsGet = function (cmd) {\n\tvar ab = new ArrayBuffer(3);\n\tvar bin = new DataView(ab);\n\t\n\tbin.setUint8(wsBin.Const.wsCmd, wsBin.Const.getCmd);\n\tbin.setUint8(wsBin.Const.wsSysId, BinStateClass.sysId); //BinStateHttpClass.sysId = 2\n\tbin.setUint8(wsBin.Const.wsSubCmd, cmd);\n\n\twebsocket.send(bin.buffer);\n//\tconsole.log.bind(console)(`wsGet cmd = ${cmd}`);\n}\n\nBinStateClass.prototype.wsGetName = function () {\n\tthis.wsGet(1);\n}\n\nBinStateClass.prototype.wsGetState = function () {\n\tthis.wsGet(2);\n}\n\nBinStateClass.prototype.wsSetState = function (state) {\n\twsBin.Cmd.SetArg(websocket, BinStateClass.sysId, wsBin.Const.scBinStateSetState, this.uid, state);\n}\n\nBinStateClass.prototype.wsGotName = function (bin) {\n\tvar strBuffer = new Uint8Array(bin.byteLength -(wsBin.Const.wsPayLoadStart + 1));\n\tconsole.log.bind(console)(`uid = ${this.uid}, bin.byteLength = ${bin.byteLength}`);\n\n    for (var i = 0; i < strBuffer.length; i++) {\n        strBuffer[i] = bin.getUint8(wsBin.Const.wsPayLoadStart + 1 + i);\n//        console.log.bind(console)(`uid = ${this.uid}, strBuffer[${i}] = ${bin.getUint8(wsBin.Const.wsPayLoadStart + 1 + i)}`);\n    }\n\n    this._name = new TextDecoder().decode(strBuffer)\n    this.renderName();\n}\n\nBinStateClass.prototype.wsGotState = function (bin) {\n\tthis._state = bin.getUint8(wsBin.Const.wsPayLoadStart + 1, true);\n\tthis.renderState();\n}\n\nBinStateClass.prototype.render = function () {\n\tif ( this.isState() ) {\n\t\tvar t = document.querySelector('#BinStateHttpClass');\n\t\tvar clone = document.importNode(t.content, true);\n//\t\tclone.querySelector('#binState').textContent = this._name;\n\t\tclone.querySelector('#binStateDiv').id = `binStateDiv${this.uid}`;\n\t\tclone.querySelector('#binStatePanel').id = `binStatePanel${this.uid}`;\n\t\tclone.querySelector('#binState').id = `binState${this.uid}`\n\t\tvar container = document.getElementById(\"Container-BinStateHttpClassStates\");\n\t}\n\t\t\t\n\tif ( this.isButton() ) {\n\t\tvar t = document.querySelector('#BinStateHttpClassButton');\n\t\tvar clone = document.importNode(t.content, true);\n//\t\tclone.querySelector('#binStateButton').textContent = this._name;\n\t\tclone.querySelector('#binStateButtonDiv').id = `binStateButtonDiv${this.uid}`\n\t\tclone.querySelector('#binStateButton').addEventListener('mousedown', this);\n\t\tclone.querySelector('#binStateButton').addEventListener('mouseup', this);\n\t\tclone.querySelector('#binStateButton').id = `binStateButton${this.uid}`\n\t\tvar container = document.getElementById(\"Container-BinStateHttpClassButtons\");\n\t}\n\t\n\tcontainer.appendChild(clone);\t\n}\n\nBinStateClass.prototype.renderName = function () {\n\tif ( this.isState() ) {\n\t\tdocument.querySelector(`#binState${this.uid}`).textContent = this._name;\n\t}\n\t\n\tif ( this.isButton() ) {\n\t\tdocument.querySelector(`#binStateButton${this.uid}`).textContent = this._name;\n\t}\n}\n\nBinStateClass.prototype.renderState = function () {\n\tif ( this.isState()) {\n\t    \tvar panel = document.querySelector(`#binStatePanel${this.uid}`);\n\t    \t\n\t    \tif (this._state) {\n\t    \t\tpanel.classList.remove(\"panel-primary\");\n\t    \t\tpanel.classList.add(\"panel-danger\");\t\n\t    \t} else {\n\t    \t\tpanel.classList.remove(\"panel-danger\");\n\t    \t\tpanel.classList.add(\"panel-primary\");\n\t    \t}\n    \t}\n    \t\n    \tif ( this.isButton()) {\n    \t\tvar panel = document.querySelector(`#binStateButton${this.uid}`);\n\t    \t\n\t    \tif (this._state) {\n\t    \t\tpanel.classList.remove(\"btn-primary\");\n\t    \t\tpanel.classList.add(\"btn-warning\");\t\n\t    \t} else {\n\t    \t\tpanel.classList.remove(\"btn-warning\");\n\t    \t\tpanel.classList.add(\"btn-primary\");\n\t    \t}\n    \t}\t\n}\n\nBinStateClass.prototype.remove = function () {\n\t\tvar selector = this.isState() ?  `#binStateDiv${this.uid}` : `#binStateButtonDiv${this.uid}`\n\n\t\tvar removeElement = document.querySelector(selector);\n\t\tthis.removeChilds(removeElement);\n\t\tremoveElement.remove();\n}\n\nBinStateClass.prototype.removeChilds = function (node) {\n    var last;\n    while (last = node.lastChild) node.removeChild(last);\n}\n\nBinStateClass.prototype.wsBinProcess = function (bin) {\n\tvar subCmd = bin.getUint8(wsBin.Const.wsSubCmd);\n\t\n\tif ( subCmd == wsBin.Const.scBinStateGetName) {\n\t\tthis.wsGotName(bin);\n\t}\n\t\n\tif ( subCmd == wsBin.Const.scBinStateGetState) {\n\t\tthis.wsGotState(bin);\n\t}\n\t\n}\n\nBinStateClass.prototype.isButton = function () { return this.uid >= wsBin.Const.uidHttpButton; }\nBinStateClass.prototype.isState = function () { return this.uid < wsBin.Const.uidHttpButton; }\n\nBinStateClass.prototype.handleEvent = function(event) {\n\tswitch(event.type) {\n\t\tcase 'mousedown':\n\t        this.wsSetState(1);\n\t        break;\n        case 'mouseup':\n            this.wsSetState(0);\n            break;\n\t}\n}\n\n//BinStatesHttpClass\n// @param states - render/process states\n// @param  buttons - render/process buttons\n\nexport default function BinStatesClass () {\n\tthis._binStatesHttp = {};\n\tthis._statesEnable = false;\n\tthis._buttonsEnable = false;\n\tthis._enable = false;\n}\n\nBinStatesClass.sysId = 2;\n\nBinStatesClass.prototype.enableStates = function( statesEnable ) {\n\tif ( statesEnable != this._statesEnable ) {\n\t\tthis._statesEnable = statesEnable;\n\t\tif (! this._statesEnable) {\n\t\t\tvar self = this\n\t\t\tObject.keys(this._binStatesHttp).forEach(function(uid) {\n\t\t\t\tif ( self.isState(uid) ) {\n\t\t\t\t\tself._binStatesHttp[uid].remove();\n\t\t\t\t\tdelete self._binStatesHttp[uid];\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.wsGetAllStates();\n\t\t}\t\n\t}\n}\n\nBinStatesClass.prototype.enableButtons = function( buttonsEnable ) {\n\tif ( buttonsEnable != this._buttonsEnable ) {\n\t\tthis._buttonsEnable = buttonsEnable;\n\t\tif (! this._buttonsEnable) {\n\t\t\tvar self = this\n\t\t\tObject.keys(this._binStatesHttp).forEach(function(uid) {\n\t\t\t\tif ( self.isButton(uid) ) {\n\t\t\t\t\tself._binStatesHttp[uid].remove();\n\t\t\t\t\tdelete self._binStatesHttp[uid];\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.wsGetAllButtons();\n\t\t}\t\n\t}\n}\n\nBinStatesClass.prototype.enable = function( Enable ) {\n\tif ( Enable != this._enable ) {\n\t\tthis._enable = Enable;\n\t\tthis.enableStates(this._enable);\n\t\tthis.enableButtons(this._enable);\n\t}\n}\nBinStatesClass.prototype.wsGetAll = function() {\n\twsBin.Cmd.Get(websocket, BinStatesClass.sysId, wsBin.Const.scBinStatesGetAll);\n}\n\nBinStatesClass.prototype.wsGetAllStates = function() {\n\twsBin.Cmd.Get(websocket, BinStatesClass.sysId, wsBin.Const.scBinStatesGetAllStates);\n}\n\nBinStatesClass.prototype.wsGetAllButtons = function() {\n\twsBin.Cmd.Get(websocket, BinStatesClass.sysId, wsBin.Const.scBinStatesGetAllButtons);\n}\n\nBinStatesClass.prototype.wsBinProcess = function (bin) {\n\tvar subCmd = bin.getUint8(wsBin.Const.wsSubCmd);\n\tvar uid = bin.getUint8(wsBin.Const.wsPayLoadStart);\n\t\n\tif ( (this.isState(uid) && this._statesEnable) || (this.isButton(uid) && this._buttonsEnable ) ) {\n\t\tif (subCmd == wsBin.Const.scBinStateGetName) {\n\t\t\tif ( !this._binStatesHttp.hasOwnProperty(uid) ) {\n\t\t\t\tthis._binStatesHttp[uid] = new BinStateClass(uid);\n\t\t\t}\n\t\t\tthis._binStatesHttp[uid].wsGotName(bin);\n\t\t}\n\t\t\n\t\tif (subCmd == wsBin.Const.scBinStateGetState) {\n\t\t\tthis._binStatesHttp[uid].wsGotState(bin);\n\t\t}\n\t}\n\t\n\t\n}\n\nBinStatesClass.prototype.isButton = function (uid) { return uid >= wsBin.Const.uidHttpButton; }\nBinStatesClass.prototype.isState = function (uid) { return uid < wsBin.Const.uidHttpButton; }\n\n\n// WEBPACK FOOTER //\n// ./lib/binio/binStates.js","'use strict';\n\n//TempsensorClass\nfunction getJson(url) { return fetch(url).then(function(response){if (response.status >= 200 && response.status < 300) return response.json();})};\n\nfunction TempsensorClass (uid, id) {\n\tthis._id = id;\n\tthis.uid = uid;\n\tthis._temperature = 0;\n\tthis._statusFlag = 0;\n\tthis._name = uid;\n\tthis.render();\n}\n\nTempsensorClass.statusFlags = { INVALID: 1, DISCONNECTED: 2};\n\nTempsensorClass.prototype.wsGotName = function (uid) {\n\tthis._name = uid;\n    this.renderName();\n}\n\nTempsensorClass.prototype.wsGotTemperature = function (temperature, statusFlag) {\n\tthis._temperature = temperature;\n\tthis._statusFlag = statusFlag\n\tthis.renderTemperature();\n}\n\nTempsensorClass.prototype.render = function () {\n\tvar t = document.querySelector('#TempsensorClass');\n\tvar clone = document.importNode(t.content, true);\n\t\n\tclone.querySelector('#TempsensorClassDiv').id = `TempsensorClassDiv${this._id + this.uid}`;\n\tclone.querySelector('#TempsensorClassPanel').id = `TempsensorClassPanel${this._id + this.uid}`;\n\tclone.querySelector('#TempsensorClassName').id = `TempsensorClassName${this._id + this.uid}`\n\tclone.querySelector('#TempsensorClassTemperature').id = `TempsensorClassTemperature${this._id + this.uid}`\n\t\t\n\tvar container = document.getElementById(\"Container-TempsensorClassTemperatures\");\n\n\tcontainer.appendChild(clone);\t\n}\n\nTempsensorClass.prototype.renderName = function () {\n\tdocument.querySelector(`#TempsensorClassName${this._id + this.uid}`).textContent = `Temperature #${this._name}`;\n}\n\nTempsensorClass.prototype.renderTemperature = function () {\n\tvar panel = document.querySelector(`#TempsensorClassPanel${this._id + this.uid}`);\n\t\n\tif (this._statusFlag == 0 ) {\n\t\tpanel.classList.remove(\"panel-danger\");\n\t\tpanel.classList.remove(\"panel-warning\");\n\t\tpanel.classList.add(\"panel-default\");\t\n\t} else if (this._statusFlag & TempsensorClass.statusFlags.DISCONNECTED ) {\n\t\tpanel.classList.remove(\"panel-default\");\n\t\tpanel.classList.remove(\"panel-warning\");\n\t\tpanel.classList.add(\"panel-danger\");\n\t} else if (this._statusFlag & TempsensorClass.statusFlags.INVALID ) {\n\t\tpanel.classList.remove(\"panel-default\");\n\t\tpanel.classList.remove(\"panel-danger\");\n\t\tpanel.classList.add(\"panel-warning\");\n\t}\n\t\n\tdocument.querySelector(`#TempsensorClassTemperature${this._id + this.uid}`).textContent = `${this._temperature} \\xB0C`;\n}\n\nTempsensorClass.prototype.remove = function () {\n\tvar removeElement = document.querySelector(`TempsensorClassDiv${this._id + this.uid}`);\n\tthis.removeChilds(removeElement);\n\tremoveElement.remove();\n}\n\nTempsensorClass.prototype.removeChilds = function (node) {\n\tvar last;\n\twhile (last = node.lastChild) node.removeChild(last);\n}\n\n// TempsensorsClass\n\nexport default function TempsensorsClass (url, id) {\n\tthis._id = id;\n\tthis._url = url;\n\tthis._tempsensorsHttp = {};\n\tthis._tempsensorsEnable = false;\n}\n\nTempsensorsClass.prototype.enable = function( tempsensorsEnable ) {\n\tif ( tempsensorsEnable != this._tempsensorsEnable ) {\n\t\tthis._tempsensorsEnable = tempsensorsEnable;\n\t\tif (! this._tempsensorsEnable) {\n\t\t\tvar self = this\n\t\t\tObject.keys(this._tempsensorsHttp).forEach(function(uid) {\n\t\t\t\tself._tempsensorsHttp[uid].remove();\n\t\t\t\tdelete self._tempsensorsHttp[uid];\n\t\t\t});\n\t\t} else {\n\t\t\tthis.wsGetAllTemperatures();\n\t\t}\t\n\t}\n}\n\nTempsensorsClass.prototype.wsGetAllTemperatures = function () {\n\tvar self = this;\n\tgetJson(this._url)\n\t.then( function(temperatures) {\n\t\tObject.keys(temperatures).forEach(function(uid) {\n\t\t\tif ( !self._tempsensorsHttp.hasOwnProperty(uid) ) {\n\t\t\t\tself._tempsensorsHttp[uid] = new TempsensorClass(uid,self._id);\n\t\t\t}\n\t\t\tself._tempsensorsHttp[uid].wsGotName(uid);\n\t\t\tself._tempsensorsHttp[uid].wsGotTemperature(temperatures[uid].temperature, temperatures[uid].statusFlag);\n\t\t});\n\t});\t\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/tempsensor/tempsensors.js","'use strict';\n\n//var appStatus\n//var binStates;\n//var tempsensors;\n//var tempsensorsHome;\n\n//import websocket from './websocket';\nimport AppStatusClass from 'appStatus';\nimport BinStatesClass from 'binStates';\nimport { initWS, websocket, wsEnablers, wsBinProcessors } from 'websocket';\nimport TempsensorsClass from 'tempsensors';\n\n//Here we put some initial code which starts after DOM loaded\nfunction onDocumentRedy() {\n//\ttempsensors = new TempsensorsClass('/temperature.json', 0);\n//\ttempsensors.enable(true);\n//\tsetInterval(function () { tempsensors.wsGetAllTemperatures(); }, 5000);\n//\t\n//\ttempsensorsHome = new TempsensorsClass('/temperatureHome.json', 1);\n//\ttempsensorsHome.enable(true);\n//\tsetInterval(function () { tempsensorsHome.wsGetAllTemperatures(); }, 5000);\n\n\tvar appStatus = new AppStatusClass();\n\tvar binStates = new BinStatesClass();\n\t\n\twsEnablers.push(appStatus.enable.bind(appStatus));\n\twsEnablers.push(binStates.enableStates.bind(binStates));\n\twsEnablers.push(binStates.enableButtons.bind(binStates));\n\t\n\twsBinProcessors[AppStatusClass.sysId] = appStatus.wsBinProcess.bind(appStatus);\n\twsBinProcessors[BinStatesClass.sysId] = binStates.wsBinProcess.bind(binStates);\n\t\n//\tvar tempsensors = new TempsensorsClass('/temperature.json', 0);\n//\ttempsensors.enable(true);\n//\tsetInterval(function () { tempsensors.wsGetAllTemperatures(); }, 5000);\n\t\n\tvar tempsensorsHome = new TempsensorsClass('/temperatureHome.json', 1);\n\ttempsensorsHome.enable(true);\n\tsetInterval(function () { tempsensorsHome.wsGetAllTemperatures(); }, 5000);\n\t\n\tinitWS();\n}\n\ndocument.addEventListener('DOMContentLoaded', onDocumentRedy);\n\n\n// WEBPACK FOOTER //\n// ./files/index_new.js"],"sourceRoot":""}